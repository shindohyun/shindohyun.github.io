- *범위가 커서 실행 시간이 오래 걸리는 문제*는 meet in the middle 을 활용하여 해결할 수 있다. **큰 범위를 반으로 나누어 각각을 진행함으로써 실행 시간을 단축시키는 방식을 meet in the middle 이라 한다.*

- n개의 원소를 갖는 집합의 부분집합 개수는 $2^n$개 이다. 본 문제에서 n은 최대 40이고 따라서 최대 $2^{40}$(=1,099,511,627,776‬)개의 부분집합을 갖는다.  
$2^{40}$ 은 오래 걸리지만 $2^{20}$은 빠르다. 때문에 meet in the middle을 활용하여  $2^n$을 $2*2^{n/2}$로 바꾸어 해결한다.
  
- 주어진 원소 집합을 반으로 나누어 두 개의 집합을 만든다. 각 집합에 대한 부분집합을 구하고 두 부분집합의 곱으로 결과를 도출하는 방법이다.  
  예를들어 아래와 같은 크기 5의 집합이 주어졌을 때

  | 0    | 1    | 2    | 3    | 4    |
  | ---- | ---- | ---- | ---- | ---- |
  | -5   | 7    | -3   | 2    | 6    |

  이를 반으로 나누면 아래와 같은 두 개의 집합을 구할 수 있다. 순서대로 집합 A, 집합 B라고 한다.

  | 0    | 1    |
  | ---- | ---- |
  | -5   | 7    |

  | 2    | 3    | 4    |
  | ---- | ---- | ---- |
  | -3   | 2    | 6    |

  두 집합 A, B에 대한 각각의 부분집합을 구하고 각 부분집합이 갖는 결과를 보면 다음과 같다.  
  A {index: value} : {}, {0:-5}, {1:7}, {0,1:2}  
  B {index: value} : {}, {2:-3}, {3:2}, {4:6}, {2,3:-1}, {2,4:3}, {3,4:8}, {2,3,4:5}

  이제 이 **두 부분집합들의 곱을 구하게 되면 원래 원소에 대한 모든 부분집합들을 구할 수 있다.**  
  A * B  
  {} * B = {}, {2}, {3}, {4}, {2,3}, {2,4}, {3,4}, {2,3,4}  
  {0} * B = {0}, {0,2}, {0,3}, {0,4}, {0,2,3}, {0,2,4}, {0,3,4}, {0,2,3,4}  
  {1} * B = {1}, {1,2}, {1,3}, {1,4}, {1,2,3}, {1,2,4}, {1,3,4}, {1,2,3,4,}  
  {0,1} * B = {0,1}, {0,1,2}, {0,1,3}, {0,1,4}, {0,1,2,3}, {0,1,2,4}, {0,1,3,4}, {0,1,2,3,4}

- 두 범위에서 구한 부분집합들의 결과에서 목표 값을 찾는 과정은 다음과 같다.  
  1. A 집합에서 구한 부분집합들의 결과를 오름차순으로 정렬한다.
  2. B 집합에서 구한 부분집합들의 결과를 내림차순으로 정렬한다.
  3. A 집합의 결과는 작은 수 부터 큰 수, B 집합은 큰 수 부터 작은 수 로 정렬되어 있고, 두 배열을 처음 부터 탐색한다.
  4. A 집합 결과에서 하나, B 집합 결과에서 하나를 선택하여 더했을 때 목표값 보다 크면 조금 더 작은 수를 얻기 위해 내림차순으로 정렬되어 있는 B 배열의 인덱스를 진행시킨다. 목표값 보다 작다면 조금 더 큰 수를 얻기 위해 오름차순으로 정렬되어 있는 A 배열의 인덱스를 진행시킨다.
  5. 4번을 반복하면서 목표값을 찾은 경우 A, B 배열 각각에서 현재 찾은 결과값과 동일한 값이 몇 개 있는지 확인한다. (값이 달라질때까지 인덱스를 진행한다.) 각각에서 찾은 개수를 곱해서 총 개수에 합산해준다.
     이때 개수를 저장하는 변수의 자료형은 long을 사용해야한다. (최악의 경우 두 부분집합의 곱 전체가 목표값을 가질 수 있기 때문에 $2^{20} * 2^{20}$에 대비해야한다.)

- 처음에는 두 개의 조합 리스트에서 공집합에 대한 결과값 (공집합의 결과값은 0을 갖게 된다.)을 제거하고 두 집합의 곱을 진행했는데, 이런 경우 원소가 1개인 집합을 전부 구할 수 없는 문제가 발생된다. 예들들어 A의 공집합과 B의 원소 1개짜리 집합의 곱으로 1개 짜리 집합을 만들 수 있다. 만약 A에 공집합이 없고 가장 작은 크기의 집합이 1개의 원소를 가질 때, 두 집합의 곱에서 얻을 수 있는 가장 작은 크기의 집합은 원소 2개를 갖는다.
- 따라서 공집합을 두었을 때, 두 부분집합의 곱으로 얻어진 결과에는 역시 0을 갖는 공집합의 결과가 하나 포함된다. 이는 목표값이 0인 경우에만 전체 결과에서 하나를 빼주는 것으로 처리할 수 있다. (목표값이 0이 아닌 경우 무시하면된다.)

-  최악의 경우 두 부분집합의 곱 전체가 목표값을 가질 수 있기 때문에 총 개수는 2^20 * 2^20 이 된다. 따라서 개수를 저장하는 변수의 자료형을 long으로 지정해야한다.

